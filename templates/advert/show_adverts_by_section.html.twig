{% extends "layout.html.twig" %}

{% block title %}

    {{ parent() }}Section
    
{% endblock %}

{% block content %}



        <div class="container">


            <table class="table table-hover">
                <thead>
                <tr>
                    <th>Product</th>
                    <th>Description</th>
                    <th>Category</th>
                    <th>Author</th>
                    <th>Creation Date</th>
                </tr>
                </thead>

            {#{{ dump(advertsBySection) }}#}
                <tbody>
            {% for advert in advertsBySection %}

                <tr>
                    <td>
                        {{ advert.title }}
                    </td>
                    <td>
                        <a href="{{ path('show_advert' , {'advertslug' : advert.slug }) }}">
                            <p>
                                {{ advert.description | shorten_text }}
                            </p>
                        </a>
                    </td>

                    <td>
                        <a class="btn btn-default" href="{{ path('filter_adverts_by_category_and_section', {'sectionlabel' : advert.section.label, 'categorylabel' : advert.category.label }  ) }}">
                            {{ advert.category.label }}
                        </a>
                    </td>

                    <td><a href="{{ path('show_public_profile', {'pseudo': advert.user.pseudo}) }}" class="badge alert-info">{{ advert.user.pseudo }}</a></td>
                    <td>{{ advert.creationDate|date('Y-m-d') }}</td>
                </tr>

            {% endfor %}

                </tbody>
            </table>

            <div class="text-center">
                <ul class="pagination">
                    {{ knp_pagination_render(advertsBySection) }}
                </ul>
            </div>

        </div>

    {% include 'includes/_categories.html.twig' %}

{% endblock %}

