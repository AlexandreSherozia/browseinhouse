{% extends 'layout.html.twig' %}
{% trans_default_domain 'admin' %}

{% block title %}{{ parent() }} | {{ 'userprofile.pagename' | trans }}{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-6 col-md-push-4">
            <h2 class="text-center">{{ 'admin.advertlist.title' | trans }}</h2>
            {% for message in app.flashes('success') %}
                <div class="alert alert-success alert-dismissible text-center" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    {{ message | trans }}
                </div>
            {% endfor %}
            {#{% for message in app.flashes('danger') %}#}
                {#<div class="alert alert-danger alert-dismissible text-center" role="alert">#}
                    {#<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>#}
                    {#{{ message | trans }}#}
                {#</div>#}
            {#{% endfor %}#}
        </div>
    </div>
    <div class="row">
        {% include 'includes/_userprofilesidebar.html.twig' %}
        <div class="col-md-6 col-xs-6">
            {% if sections %}
                {% for section in sections %}
                    <h3>{{ section.label }}</h3>
                    <table class="table">
                        {% if advertList %}
                            <tr>
                                <th>ID</th>
                                <th>{{ 'admin.advertlist.creation_date' | trans }}</th>
                                <th>{{ 'admin.advertlist.description' | trans }}</th>
                                <th>{{ 'admin.advertlist.price' | trans }}</th>
                                <th>{{ 'admin.advertlist.category' | trans }}</th>
                                <th>{{ 'admin.advertlist.pseudo' | trans }}</th>
                                <th>{{ 'admin.advertlist.deleteAdvert' | trans }}</th>
                            </tr>
                            <tr>
                                {% for advert in advertList %}
                                    {% if advert.sectionId is same as section.id %}
                                        <td>{{ advert.creation_date | date('d/m/Y') }}</td>
                                        <td>{{ advert.description }}</td>
                                        <td>{{ advert.price }}</td>
                                        <td>{% for category in categories %}
                                                {% if advert.category.id is same as category.id %}
                                                    {{ category.label }}
                                                {% endif %}
                                            {% endfor %}
                                        </td>
                                        <td>Pseudo</td>
                                        <td>Delete</td>
                                    {% endif %}
                                {% endfor %}
                            </tr>
                        {% endif %}
                    </table>
                {% endfor %}
            {% endif %}
        </div>
    </div>
{% endblock %}